<!DOCTYPE html>
<html lang="en">
<head>
  <title>UserPage</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Faster+One&display=swap" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;700&display=swap" rel="stylesheet">

  <script src="/js/my.js"></script>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<div id="menu">

  <!--

<nav class="navbar navbar-inverse">
          <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/"><span class="applogo">Care<span class="number">2</span>Share</span></a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">


  -->
    
          

              
        {% if menu=="" %}



            <ul class='navbar-right'>
              <li> <a href="/syndesiA"><span class=""></span>Admin</a></li>
              <li><a href='/egrafi'> Sign-Up</a></li>
              <li> <a href="/syndesi"><span class="">Log In</span></a></li>
            </ul>

        <div class="sidenav">
        <div class="hovernav">
        <a href="/" id="patch"><span class="applogo">Care<span class="number">2</span>Share</span><i class="mob">C2S</i></a>
        <a href="/"><i class="fa fa-home"></i><span class="txt" id="hm">Home</span></a>

        </div>
        </div>

        <!--



            <ul class='nav navbar-nav'>
              
                
          
              </ul>
            <ul class='nav navbar-nav navbar-right'>
                <li><a href='/egrafi'> Sign-Up</a></li>
                <li><a href='/syndesi'>Log-In</a></li>
              </ul>

        -->


          
        {% endif %}


          {% if menu=="user" %}



        <ul class='navbar-right'>
          <li> <a href="/logout"><i class="glyphicon glyphicon-log-out"></i><span class="txt">Log Out</span></a></li>
        </ul>

        <div class="sidenav">
        <div class="hovernav">
        <a href="/" id="patch"><span class="applogo">Care<span class="number">2</span>Share</span><i class="mob">C2S</i></a>
        <a href="/"><i class="fa fa-home"></i><span class="txt" id="home1">Home</span></a>
        <a href="/allcontents"><i class="fa fa-hashtag"></i><span class="txt" id="explore1">Explore</span></a>
        <a href="/mycontents"><i class="fa fa-user"></i><span class="txt" id="profile1"> Profile</span></a>
        <a href="/users"><i class="fa fa-envelope"></i><span class="txt" id="messages1">Messages</span></a>
        <!--<a href="/notifications"><i class="fa fa-bell"></i><span class="txt" id="notifications1">Notifications</span></a>-->
        <a href="/bookmarks"><i class="fa fa-bookmark"></i><span class="txt" id="bookmark1">Bookmarks</span></a>
        <a href="/related"><i class="material-icons" style="font-size:36px">memory</i><span class="txt" id="related11" style="position: relative; bottom: 10px; left: 2px;">Related</span></a>
        <a href="http://localhost:3000/"><img src="/img/chatgpt.png"></a>
        </div>
        </div>


        <!-- The Modal -->
        <div id="myModal1" class="modalupload">
            <!-- Modal content -->
            <div class="modalupload-content">
              <div class="modalupload-header">
                <span class="closeUpload">Ã—</span>
              </div>
              <form>
              <div class="modalupload-body">
                
                <div class="audience">
                  <img src="" id="prof_photcontmain">
                  <div class="custom-select" style="width:200px;">
                    <select>
                      <option value="0">Audience</option>
                      <option value="1">Friends</option>
                      <option value="2">Public</option>
                    </select>
                  </div>
                </div>
                <div class="write">
                  <textarea id="c2s" rows="15" cols="53" placeholder="Care to share your thoughts?"></textarea>
                </div>
              </div>
              <div class="modalupload-footer">
                <div class="">
                  <form action="" class="media1">
                    <label for="file-upload" class="custom-file-upload">
                      <i class="fa fa-image"></i>
                    </label>
                  <input id="file-upload" type="file"/>
                    <button type="submit" id="share1">Share</button>
                  </form>
                </div>
              </div>
            
            </div>
          </form>
        </div>
            
        {% endif %}


        
        {% if menu=="admin" %}



        <ul class='navbar-right'>
          <li> <a href="/logout"><i class="glyphicon glyphicon-log-out"></i><span class="txt">Log Out</span></a></li>
        </ul>

        <div class="sidenav">
        <div class="hovernav">
        <a href="" id="patch"><span class="applogo">Care<span class="number">2</span>Share</span><i class="mob">C2S</i></a>
        <a href=""><i class="fa fa-home"></i><span class="txt" id="home1">Home</span></a>
        <a href="/adminCat"><i class="fa fa-hashtag"></i><span class="txt" id="explore1">Categories</span></a>
        <a href="/adminUsr"><i class="fa fa-user"></i><span class="txt" id="profile1"> Users</span></a>
        </div>
        </div>


            
        {% endif %}
          
          </div>
          </div>
    </nav>
</div>

  <div class="main">
    <div id="main" >
        <div class="feed">

        {%block content%}

        {% endblock %}
        </div> 
    </div>
  </div>
</body>
</html>


<script>
  // Get the button that opens the modalupload
var btnupload = document.querySelectorAll("button.modalupload-button");

// All page modals
var modals = document.querySelectorAll('.modalupload');

// Get the <span> element that closes the modalupload
var spans = document.getElementsByClassName("closeUpload");

// When the user clicks the button, open the modalupload
for (var i = 0; i < btnupload.length; i++) {
btnupload[i].onclick = function(e) {
  e.preventDefault();
  modalupload = document.querySelector(e.target.getAttribute("href"));
  modalupload.style.display = "block";
}
}

// When the user clicks on <span> (x), closeUpload the modalupload
for (var i = 0; i < spans.length; i++) {
spans[i].onclick = function() {
  for (var index in modals) {
    if (typeof modals[index].style !== 'undefined') modals[index].style.display = "none";    
  }
}
}

// When the user clicks anywhere outside of the modalupload, closeUpload it
window.onclick = function(event) {
  if (event.target.classList.contains('modalupload')) {
   for (var index in modals) {
    if (typeof modals[index].style !== 'undefined') modals[index].style.display = "none";    
   }
  }
}



//option upload script 
var x, i, j, l, ll, selElmnt, a, b, c;
/*look for any elements with the class "custom-select":*/
x = document.getElementsByClassName("custom-select");
l = x.length;
for (i = 0; i < l; i++) {
  selElmnt = x[i].getElementsByTagName("select")[0];
  ll = selElmnt.length;
  /*for each element, create a new DIV that will act as the selected item:*/
  a = document.createElement("DIV");
  a.setAttribute("class", "select-selected");
  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
  x[i].appendChild(a);
  /*for each element, create a new DIV that will contain the option list:*/
  b = document.createElement("DIV");
  b.setAttribute("class", "select-items select-hide",);
  for (j = 1; j < ll; j++) {
    /*for each option in the original select element,
    create a new DIV that will act as an option item:*/
    c = document.createElement("DIV");
    c.innerHTML = selElmnt.options[j].innerHTML;
    c.addEventListener("click", function(e) {
        /*when an item is clicked, update the original select box,
        and the selected item:*/
        var y, i, k, s, h, sl, yl;
        s = this.parentNode.parentNode.getElementsByTagName("select")[0];
        sl = s.length;
        h = this.parentNode.previousSibling;
        for (i = 0; i < sl; i++) {
          if (s.options[i].innerHTML == this.innerHTML) {
            s.selectedIndex = i;
            h.innerHTML = this.innerHTML;
            y = this.parentNode.getElementsByClassName("same-as-selected");
            yl = y.length;
            for (k = 0; k < yl; k++) {
              y[k].removeAttribute("class");
            }
            this.setAttribute("class", "same-as-selected");
            break;
          }
        }
        h.click();
    });
    b.appendChild(c);
  }
  x[i].appendChild(b);
  a.addEventListener("click", function(e) {
      /*when the select box is clicked, close any other select boxes,
      and open/close the current select box:*/
      e.stopPropagation();
      closeAllSelect(this);
      this.nextSibling.classList.toggle("select-hide");
      this.classList.toggle("select-arrow-active");
    });
}
function closeAllSelect(elmnt) {
  /*a function that will close all select boxes in the document,
  except the current select box:*/
  var x, y, i, xl, yl, arrNo = [];
  x = document.getElementsByClassName("select-items");
  y = document.getElementsByClassName("select-selected");
  xl = x.length;
  yl = y.length;
  for (i = 0; i < yl; i++) {
    if (elmnt == y[i]) {
      arrNo.push(i)
    } else {
      y[i].classList.remove("select-arrow-active");
    }
  }
  for (i = 0; i < xl; i++) {
    if (arrNo.indexOf(i)) {
      x[i].classList.add("select-hide");
    }
  }
}
/*if the user clicks anywhere outside the select box,
then close all select boxes:*/
document.addEventListener("click", closeAllSelect);


function getuserdata(){
  $.get("/userdata", function(res){
    console.log(res);
    
    $("#prof_photcontmain").attr("src",`uploads/${res.profilephoto}`);
    
    
    
      });
    }
    getuserdata();


</script>







